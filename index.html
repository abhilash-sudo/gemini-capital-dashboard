<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Prediction Dashboard - Gemini Capital</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-page">
    <div id="broadcast-banner" class="broadcast-banner" style="display:none;"></div>
    <div class="music-controls">
        <button id="music-toggle">üîä</button>
    </div>
    <div class="main-container">
        <!-- Header Section -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo">GEMINI CAPITAL</div>
                <div class="header-controls">
                    <!-- Add a subtle shadow and rounded corners to controls -->
                    <div class="theme-switch-wrapper card" style="padding: 0.5rem 1rem; border-radius: 8px;">
                        <label class="theme-switch" for="theme-checkbox">
                            <input type="checkbox" id="theme-checkbox" />
                            <div class="slider round"></div>
                        </label>
                        <span class="theme-label">Light Mode</span>
                    </div>
                    <div class="user-profile card" style="padding: 0.5rem 1rem; border-radius: 8px;">
                        <a href="profile.html" class="profile-link">
                            <span id="user-name-display">Welcome, User</span>
                            <img id="user-avatar" src="" alt="User Avatar">
                        </a>
                        <button id="logout-btn" class="logout-button">Logout</button>
                    </div>
                    <div class="currency-switch-wrapper card" style="padding: 0.5rem 1rem; border-radius: 8px;">
                        <label class="currency-switch" for="currency-checkbox">
                            <input type="checkbox" id="currency-checkbox" />
                            <span id="currency-label">‚Çπ INR</span>
                        </label>
                    </div>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <div class="dashboard-layout">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="card fade-in-card search-card-container" style="box-shadow: 0 8px 32px 0 rgba(88,166,255,0.18);">
                        <h2 style="font-size: 1.5rem; font-weight: 700;">üîç Search & Predict</h2>
                        <div class="input-group relative">
                            <label for="stock-symbol">Stock Symbol</label>
                            <input type="text" id="stock-symbol" placeholder="e.g., AAPL" autocomplete="off">
                            <ul class="suggestions-list" id="suggestions-list"></ul>
                        </div>
                        <button id="search-btn">
                            <svg id="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                            </svg>
                            <span id="button-text">Get Prediction</span>
                            <div class="spinner" id="spinner" style="display: none;"></div>
                        </button>
                    </div>
                    <div class="card fade-in-card" style="box-shadow: 0 8px 32px 0 rgba(63,185,80,0.18);">
                        <h2>‚öôÔ∏è SVR Parameters</h2>
                        <div class="input-group">
                            <label for="kernel">Kernel</label>
                            <select id="svr-kernel">
                                <option value="rbf">RBF</option>
                                <option value="linear">Linear</option>
                                <option value="poly">Polynomial</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="c_parameter">Regularization (C)</label>
                            <input type="range" id="svr-c" min="1" max="200" value="100">
                            <span id="svr-c-value">100</span>
                        </div>
                    </div>
                    <div class="card fade-in-card" style="box-shadow: 0 8px 32px 0 rgba(248,81,73,0.18);">
                        <h2>üïë Search History</h2>
                        <ul id="history-list" class="history-list"></ul>
                    </div>
                    <div class="card fade-in-card" style="box-shadow: 0 8px 32px 0 rgba(162,89,255,0.18);">
                        <h2>üì∞ Trading News</h2>
                        <ul id="news-list" class="news-list">
                            <li class="news-placeholder">Loading news...</li>
                        </ul>
                    </div>
                </aside>

                <!-- Main Content Area -->
                <main class="main-content">
                    <div class="card fade-in-card market-data-header" style="display: flex; gap: 2rem; align-items: center;">
                        <div class="market-item">
                            <label>Market Status</label>
                            <p id="market-status" class="loading">Loading...</p>
                        </div>
                        <div class="market-item">
                            <label>S&amp;P 500</label>
                            <p id="sp500-price" class="loading">Loading...</p>
                        </div>
                        <div class="market-item">
                            <label>NASDAQ</label>
                            <p id="nasdaq-price" class="loading">Loading...</p>
                        </div>
                    </div>
                    <div id="results-section" style="display: none;" class="fade-in-card">
                        <div class="results-header-card" style="display: flex; flex-wrap: wrap; gap: 2rem; align-items: flex-start;">
                            <div class="company-info" style="flex: 2;">
                                <h1 id="company-name-display" style="font-size: 2.2rem; font-weight: 700;">Apple Inc. (AAPL)</h1>
                                <div class="current-price" style="margin-top: 0.5rem;">
                                    <span id="current-price-display" style="font-size: 2.5rem; font-weight: 700;">$172.50</span>
                                    <span id="price-change-display" class="price-change positive" style="font-size: 1.2rem;">+1.75 (1.02%)</span>
                                </div>
                            </div>
                            <div class="metrics-grid" style="flex: 1; min-width: 220px;">
                                <div class="metric-item"><label>Predicted Price</label><p id="predicted-price-display" class="highlight">$175.45</p></div>
                                <div class="metric-item"><label>Confidence</label><p id="confidence-display">88.5%</p></div>
                                <div id="parameters-display" class="metric-item wide"></div>
                            </div>
                            <div class="extra-metrics" style="width: 100%; display: flex; gap: 2rem; margin-top: 1rem;">
                                <div><label>Volume:</label> <span id="volume-display">--</span></div>
                                <div><label>Market Cap:</label> <span id="marketcap-display">--</span></div>
                                <div><label>PE Ratio:</label> <span id="pe-display">--</span></div>
                            </div>
                        </div>
                        <div class="card chart-card" style="margin-top: 2rem;">
                            <div class="chart-controls" style="display: flex; justify-content: space-between; align-items: center;">
                                <h3 style="font-size: 1.1rem;">üìä Price Action</h3>
                                <div class="chart-buttons">
                                    <!-- <button class="chart-btn active" data-chart-type="line">Line</button> -->
                                    <button class="chart-btn active" data-chart-type="bar">Bar</button>
                                    <button class="chart-btn" data-chart-type="radar">Radar</button>
                                    <button class="chart-btn" data-chart-type="candlestick">Candlestick</button>
                                    <button class="chart-btn" data-chart-type="area">Area</button>
                                    <button class="chart-btn" data-chart-type="pie">Pie</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="stockChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="placeholder-section" class="card fade-in-card" style="text-align: center;">
                        <h2 style="font-size: 2rem;">‚ú® Welcome to Gemini Capital</h2>
                        <p style="font-size: 1.1rem;">Use the control panel on the left to search for a stock symbol and generate a prediction.</p>
                    </div>
                    <div class="dashboard-widgets" style="display: flex; gap: 2rem; margin-top: 2rem;">
                        <div class="widget-card" style="flex: 1; background: linear-gradient(135deg, #F1FEC6 60%, #A882DD 100%); color: #222;">
                            <div class="widget-title" style="font-weight: 600;">Total Trades</div>
                            <div class="widget-value" style="font-size: 2rem;">1,245</div>
                            <div class="widget-trend positive">+12% this week</div>
                            <div class="widget-icon" style="font-size: 2rem;">üìà</div>
                        </div>
                        <div class="widget-card" style="flex: 1; background: linear-gradient(135deg, #A882DD 60%, #F1FEC6 100%); color: #222;">
                            <div class="widget-title" style="font-weight: 600;">Active Users</div>
                            <div class="widget-value" style="font-size: 2rem;">342</div>
                            <div class="widget-trend negative">-3% today</div>
                            <div class="widget-icon" style="font-size: 2rem;">üë§</div>
                        </div>
                        <div class="widget-card" style="flex: 1; background: linear-gradient(135deg, #ffb347 60%, #aec6cf 100%); color: #222;">
                            <div class="widget-title" style="font-weight: 600;">Social Sentiment</div>
                            <div id="sentiment-score">Loading...</div>
                            <ul id="sentiment-posts"></ul>
                        </div>
                        <!-- Add more widgets as needed -->
                    </div>
                    <button id="save-favorite-btn" style="margin-top: 2rem;">Save to Favorites</button>
                    <ul id="favorites-list"></ul>
                </main>
            </div>
        </div>
    </div>
    <audio id="bg-music" src="Opera GX Background Music - 1 Hour (Active) [9oe32bvwE_M].mp3" autoplay loop></audio>
    <script src="script.js"></script>
    <script>
        let pollingInterval = null;
        function startPolling(symbol) {
            if (pollingInterval) clearInterval(pollingInterval);
            pollingInterval = setInterval(() => performSearch(symbol), 60000); // every 60 seconds
        }
        searchBtn.addEventListener('click', () => {
            const symbol = stockInput.value.trim().toUpperCase();
            performSearch(symbol);
            startPolling(symbol);
        });
    </script>
</body>
</html>

