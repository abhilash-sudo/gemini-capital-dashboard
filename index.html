<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Prediction Dashboard - Gemini Capital</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-page">
    <audio id="bg-music" src="Opera GX Background Music - 1 Hour (Active) [9oe32bvwE_M].mp3" autoplay loop></audio>
    <div class="music-controls">
        <button id="music-toggle">ðŸ”Š</button>
    </div>
    <div class="main-container">
        <!-- Header Section -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo">GEMINI CAPITAL</div>
                <div class="header-controls">
                    <div class="theme-switch-wrapper">
                        <label class="theme-switch" for="theme-checkbox">
                            <input type="checkbox" id="theme-checkbox" />
                            <div class="slider round"></div>
                        </label>
                        <span class="theme-label">Light Mode</span>
                    </div>
                    <div class="user-profile">
                        <a href="profile.html" class="profile-link">
                            <span id="user-name-display">Welcome, User</span>
                            <img id="user-avatar" src="https://i.pravatar.cc/32" alt="User Avatar">
                        </a>
                        <button id="logout-btn" class="logout-button">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <div id="broadcast-banner" class="broadcast-banner"></div>

        <div class="content-wrapper">
            <div class="dashboard-layout">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="card fade-in-card search-card-container">
                        <h2>Search & Predict</h2>
                        <div class="input-group relative">
                            <label for="stock-symbol">Stock Symbol</label>
                            <input type="text" id="stock-symbol" placeholder="e.g., AAPL" autocomplete="off">
                            <ul class="suggestions-list" id="suggestions-list"></ul>
                        </div>
                        <button id="search-btn">
                            <svg id="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                            </svg>
                            <span id="button-text">Get Prediction</span>
                            <div class="spinner" id="spinner" style="display: none;"></div>
                        </button>
                    </div>
                    <div class="card fade-in-card">
                        <h2>SVR Parameters</h2>
                        <div class="input-group">
                            <label for="kernel">Kernel</label>
                            <select id="kernel">
                                <option value="rbf">RBF</option>
                                <option value="linear">Linear</option>
                                <option value="poly">Polynomial</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="c_parameter">Regularization (C)</label>
                            <input type="range" id="c_parameter" min="1" max="200" value="100">
                        </div>
                    </div>
                    <div class="card fade-in-card">
                        <h2>Search History</h2>
                        <ul id="history-list" class="history-list"></ul>
                    </div>
                     <div class="card fade-in-card">
                        <h2>Trading News</h2>
                        <ul id="news-list" class="news-list">
                            <li class="news-placeholder">Loading news...</li>
                        </ul>
                    </div>
                    <div class="card fade-in-card">
                        <h2>Compare Stocks</h2>
                        <div class="input-group">
                            <label for="compare-symbols">Compare Stocks</label>
                            <select id="compare-symbols" multiple>
                                <!-- Populate with popularStocks -->
                            </select>
                        </div>
                    </div>
                </aside>

                <!-- Main Content Area -->
                <main class="main-content">
                    <div class="card fade-in-card market-data-header">
                        <div class="market-item">
                            <label>Market Status</label>
                            <p id="market-status" class="loading">Loading...</p>
                        </div>
                        <div class="market-item">
                            <label>S&amp;P 500</label>
                            <p id="sp500-price" class="loading">Loading...</p>
                        </div>
                        <div class="market-item">
                            <label>NASDAQ</label>
                            <p id="nasdaq-price" class="loading">Loading...</p>
                        </div>
                    </div>
                    <div id="results-section" style="display: none;" class="fade-in-card">
                        <div class="results-header-card">
                            <div class="company-info">
                                <h1 id="company-name-display">Apple Inc. (AAPL)</h1>
                                <div class="current-price">
                                    <span id="current-price-display">$172.50</span>
                                    <span id="price-change-display" class="price-change positive">+1.75 (1.02%)</span>
                                </div>
                            </div>
                            <div class="metrics-grid">
                                <div class="metric-item"><label>Predicted Price</label><p id="predicted-price-display" class="highlight">$175.45</p></div>
                                <div class="metric-item"><label>Confidence</label><p id="confidence-display">88.5%</p></div>
                                <div id="parameters-display" class="metric-item wide"></div>
                            </div>
                            <div class="extra-metrics">
                                <div><label>Volume:</label> <span id="volume-display">--</span></div>
                                <div><label>Market Cap:</label> <span id="marketcap-display">--</span></div>
                                <div><label>PE Ratio:</label> <span id="pe-display">--</span></div>
                            </div>
                        </div>
                        <div class="card chart-card">
                            <div class="chart-controls">
                                <h3>Price Action</h3>
                                <div class="chart-buttons">
                                    <button class="chart-btn active" data-chart-type="line">Line</button>
                                    <button class="chart-btn" data-chart-type="bar">Bar</button>
                                    <button class="chart-btn" data-chart-type="radar">Radar</button>
                                    <button class="chart-btn" data-chart-type="candlestick">Candlestick</button>
                                    <button class="chart-btn" data-chart-type="area">Area</button>
                                    <button class="chart-btn" data-chart-type="pie">Pie</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="stockChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="placeholder-section" class="card fade-in-card">
                        <h2>Welcome to Gemini Capital</h2>
                        <p>Use the control panel on the left to search for a stock symbol and generate a prediction.</p>
                    </div>
                    <div class="dashboard-widgets">
                        <div class="widget-card">
                            <div class="widget-title">Total Trades</div>
                            <div class="widget-value">1,245</div>
                            <div class="widget-trend positive">+12% this week</div>
                            <div class="widget-icon">ðŸ“ˆ</div>
                        </div>
                        <div class="widget-card">
                            <div class="widget-title">Active Users</div>
                            <div class="widget-value">342</div>
                            <div class="widget-trend negative">-3% today</div>
                            <div class="widget-icon">ðŸ‘¤</div>
                        </div>
                        <div class="widget-card">
                            <div class="widget-title">Social Sentiment</div>
                            <div id="sentiment-score">Loading...</div>
                            <ul id="sentiment-posts"></ul>
                        </div>
                        <!-- Add more widgets as needed -->
                    </div>
                    <button id="save-favorite-btn">Save to Favorites</button>
                    <ul id="favorites-list"></ul>
                </main>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        let pollingInterval = null;
        function startPolling(symbol) {
            if (pollingInterval) clearInterval(pollingInterval);
            pollingInterval = setInterval(() => performSearch(symbol), 60000); // every 60 seconds
        }
        searchBtn.addEventListener('click', () => {
            const symbol = stockInput.value.trim().toUpperCase();
            performSearch(symbol);
            startPolling(symbol);
        });
    </script>
    <!-- Place inside any widget or header -->
<svg width="48" height="48" viewBox="0 0 48 48" class="glass-icon">
  <defs>
    <linearGradient id="glass-gradient" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#58a6ff" stop-opacity="0.7"/>
      <stop offset="100%" stop-color="#fff" stop-opacity="0.3"/>
    </linearGradient>
    <filter id="glass-blur" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  <circle cx="24" cy="24" r="18" fill="url(#glass-gradient)" filter="url(#glass-blur)" />
  <text x="24" y="29" text-anchor="middle" font-size="18" fill="#fff" opacity="0.7" font-family="Inter">ðŸ’§</text>
</svg>
</body>
</html>

